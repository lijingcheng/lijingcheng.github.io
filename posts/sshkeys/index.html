<!doctype html><html lang=zh-cn><head><title>在 Git 环境下维护多个 SSH Keys // 风行's Blog</title><meta charset=utf-8><meta name=generator content="Hugo 0.61.0"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="风行"><meta name=description content><link rel=stylesheet href=https://lijingcheng.github.io/css/main.min.61bb32028587f24ca28522d8d197970c7ef33284e5fffb45a75fcbbb2dbc4dcb.css><meta name=twitter:card content="summary"><meta name=twitter:title content="在 Git 环境下维护多个 SSH Keys"><meta name=twitter:description content="SSH Key 登录方式可以避免密码在网络中传输，也就保证了登录过程的安全，也不会因此受到中间人攻击，如果在 SSH 密钥登录基础上再加上密码短语 （passphrase）的使用，安全性便会再次提高。
作为一个程序猿，我们经常会往公司的 Git 服务器上提交代码，还有很多猿在 GitHub 上也有自己的开源项目，不管是公司的服务器还是 GitHub 服务器都会在你提交代码时通过维护在服务器上的公钥进行验证，如果你希望能够以不同身份向不同服务器提交代码，那么你需要在机器上维护多个 SSH Key，并且将不同的公钥添加到不同的服务器中。
下面介绍下在已经拥有一个用于公司服务器的 SSH Key 后，如何再添加一个用于 GitHub 的 SSH Key。
首先进入 .ssh 目录
cd ~/.ssh 创建用于 GitHub 的 SSH Key，根据提示将名字设置为 id_rsa_github
ssh-keygen -t rsa -C &#34;注册 GitHub 时用的 Email&#34; 因为 Git 默认只读取 id_rsa，为了让 SSH 识别新的私钥，需将 id_rsa_github 添加到 SSH Agent 中
ssh-add id_rsa_github 将 id_rsa_github.pub 中的公钥复制到 GitHub 帐户中，并为 GitHub 项目指定提交代码时使用哪个用户，简单的方式是打开 SourceTree 中的项目，然后在“设置 -> 高级”中直接修改用户名和邮箱，也可以打开 ~/.ssh 目录下的 config 文件，修改 [user] 部分，指明服务器及所使用的密钥"><meta property="og:title" content="在 Git 环境下维护多个 SSH Keys"><meta property="og:description" content="SSH Key 登录方式可以避免密码在网络中传输，也就保证了登录过程的安全，也不会因此受到中间人攻击，如果在 SSH 密钥登录基础上再加上密码短语 （passphrase）的使用，安全性便会再次提高。
作为一个程序猿，我们经常会往公司的 Git 服务器上提交代码，还有很多猿在 GitHub 上也有自己的开源项目，不管是公司的服务器还是 GitHub 服务器都会在你提交代码时通过维护在服务器上的公钥进行验证，如果你希望能够以不同身份向不同服务器提交代码，那么你需要在机器上维护多个 SSH Key，并且将不同的公钥添加到不同的服务器中。
下面介绍下在已经拥有一个用于公司服务器的 SSH Key 后，如何再添加一个用于 GitHub 的 SSH Key。
首先进入 .ssh 目录
cd ~/.ssh 创建用于 GitHub 的 SSH Key，根据提示将名字设置为 id_rsa_github
ssh-keygen -t rsa -C &#34;注册 GitHub 时用的 Email&#34; 因为 Git 默认只读取 id_rsa，为了让 SSH 识别新的私钥，需将 id_rsa_github 添加到 SSH Agent 中
ssh-add id_rsa_github 将 id_rsa_github.pub 中的公钥复制到 GitHub 帐户中，并为 GitHub 项目指定提交代码时使用哪个用户，简单的方式是打开 SourceTree 中的项目，然后在“设置 -> 高级”中直接修改用户名和邮箱，也可以打开 ~/.ssh 目录下的 config 文件，修改 [user] 部分，指明服务器及所使用的密钥"><meta property="og:type" content="article"><meta property="og:url" content="https://lijingcheng.github.io/posts/sshkeys/"><meta property="article:published_time" content="2015-03-01T18:11:42+08:00"><meta property="article:modified_time" content="2015-03-01T18:11:42+08:00"></head><body><header class=app-header><a href=https://lijingcheng.github.io><img class=app-header-avatar src=/images/avatar.png alt=风行></a><h1>风行's Blog</h1><p>Do not repeat yourself!</p><div class=app-header-social><a target=_blank href=https://github.com/lijingcheng rel="noreferrer noopener"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-github"><title>github</title><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77a5.44 5.44.0 00-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a><a target=_blank href=https://www.instagram.com/bj_lijingcheng/ rel="noreferrer noopener"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-instagram"><title>instagram</title><rect x="2" y="2" width="20" height="20" rx="5" ry="5"/><path d="M16 11.37A4 4 0 1112.63 8 4 4 0 0116 11.37z"/><line x1="17.5" y1="6.5" x2="17.5" y2="6.5"/></svg></a></div></header><main class=app-container><article class=post><header class=post-header><h1 class=post-title>在 Git 环境下维护多个 SSH Keys</h1><div class=post-meta><div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar"><title>calendar</title><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>Mar 1, 2015</div></div></header><div class=post-content><p><a href>SSH Key</a> 登录方式可以避免密码在网络中传输，也就保证了登录过程的安全，也不会因此受到中间人攻击，如果在 SSH 密钥登录基础上再加上密码短语 （passphrase）的使用，安全性便会再次提高。</p><p>作为一个程序猿，我们经常会往公司的 Git 服务器上提交代码，还有很多猿在 GitHub 上也有自己的开源项目，不管是公司的服务器还是 GitHub 服务器都会在你提交代码时通过维护在服务器上的公钥进行验证，如果你希望能够以不同身份向不同服务器提交代码，那么你需要在机器上维护多个 SSH Key，并且将不同的公钥添加到不同的服务器中。</p><p>下面介绍下在已经拥有一个用于公司服务器的 SSH Key 后，如何再添加一个用于 GitHub 的 SSH Key。</p><p>首先进入 .ssh 目录</p><pre><code>cd ~/.ssh
</code></pre><p>创建用于 GitHub 的 SSH Key，根据提示将名字设置为 id_rsa_github</p><pre><code>ssh-keygen -t rsa -C &quot;注册 GitHub 时用的 Email&quot;
</code></pre><p>因为 Git 默认只读取 id_rsa，为了让 SSH 识别新的私钥，需将 id_rsa_github 添加到 SSH Agent 中</p><pre><code>ssh-add id_rsa_github
</code></pre><p>将 id_rsa_github.pub 中的公钥复制到 GitHub 帐户中，并为 GitHub 项目指定提交代码时使用哪个用户，简单的方式是打开 SourceTree 中的项目，然后在“设置 -> 高级”中直接修改用户名和邮箱，也可以打开 ~/.ssh 目录下的 config 文件，修改 [user] 部分，指明服务器及所使用的密钥</p><pre><code>Host github.com
IdentityFile ~/.ssh/id_rsa_github

Host gitlab.xxx.com
IdentityFile ~/.ssh/id_rsa
</code></pre><p>如果 .ssh 目录下没有 config 文件，便新增一个</p><pre><code>touch config
</code></pre><p>如果你使用 SourceTree 的话，也可以在添加 GitHub 帐户时直接生成密钥，它会帮你配置好一切并上传，最后再自己将私钥添加到 SSH Agent 中。</p></div><div class=post-footer></div></article></main></body></html>